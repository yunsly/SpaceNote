# ✅ Git 커밋 메시지 검사 훅 설치 가이드

팀의 커밋 메시지 규칙을 강제하기 위해 Git의 **`commit-msg` 훅을 로컬에 설정**합니다.  
이 스크립트는 커밋 메시지 형식이 규칙에 어긋날 경우 **커밋을 차단하고 오류 메시지를 출력**합니다.


## 📌 사전 요구사항

- Git이 초기화된 프로젝트(`.git/` 디렉토리 존재)
- macOS / Linux / WSL 환경(Bash 기반)


## 🧩 커밋 메시지 규칙 요약

| 구분    | 규칙                                                                  |
| ----- | ------------------------------------------------------------------- |
| 제목    | `<Type>. 요약 설명` or `📝 <Type>. 요약 설명`<br>Type은 대문자로 시작. 마침표 뒤 공백 필수 |
| 요약 길이 | 한글 기준 30자 이내 권장                                             |
| 본문    | `Why:` 변경 이유 / `How:` 변경 방법                                         |

## ✅ 커밋 메시지 예시

```text
📝 Docs. 컴포넌트 구조 개선

```

```text
Fix. 로그인 실패 시 예외처리 추가

```



## ❌ 잘못된 메시지 예시

```text
readme 업데이트
```

```text
fix: 로그인 고침
```

이런 커밋을 시도하면 아래와 같은 메시지가 출력됩니다:

```text
❌ 제목 형식 오류:
👉 제목은 'Type. 요약 설명' 또는 '📝 Type. 요약 설명' 형식이어야 합니다.
```

## 🧪 테스트 방법

```bash
git commit --allow-empty -m "README 업데이트"      # ❌ 실패 (형식 위반)

git commit --allow-empty -m "Docs. readme 정리 완료\n\nWhy:\n- 오래된 구조를 반영하고 있음\n\nHow:\n- 섹션 순서 변경, UI 설명 추가\n"                                # ✅ 성공
```

## 🚀 설치 방법 (최초 1회만)

1. 터미널에서 프로젝트 루트 디렉토리로 이동
2. 아래 스크립트 실행:

   ```sh
   bash setup-githooks.sh
   ```

   성공 메시지가 아래처럼 출력되어야 합니다:

   ```text
   🔧 커밋 메시지 훅 설치 중...
   ✅ 완료: .git/hooks/commit-msg 훅이 설치되었습니다.
   📌 커밋 메시지 규칙이 자동으로 적용됩니다.
   ```


## ✅ 정상 작동 테스트

- 잘못된 커밋(제목 형식 불일치)

  ```sh
  git commit --allow-empty -m "readme 업데이트"
  # → ❌ 커밋 차단 및 오류 메시지 출력
  ```

- 올바른 커밋(형식 준수)

  ```sh
  git commit --allow-empty -m "Fix. 로그인 처리 개선\n\nWhy:\n- 사용자 피드백 반영\n\nHow:\n- 조건 분기 및 메시지 보강"
  # → ✅ 커밋 성공
  ```


## 🛠 수동 제거 방법

훅 기능을 끄고 싶을 경우:

```sh
rm .git/hooks/commit-msg
```

단, 팀의 협업 규칙을 위해 유지 권장합니다.
